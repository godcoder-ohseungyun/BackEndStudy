# 나만의 라이브러리

---

### 목차

스트림 변환

스트림 생성

배열을 컬랙션으로 변환


## 

### 스트림 생성

~~~java
/**
스트림
*/
//컬랙션 -> 스트림
Stream<Integer> stream = list.stream();

//배열 -> 스트림
Stream<String> stream1 = Arrays.stream(arr);

//매개변수 -> 스트림
Stream<Double> stream = Stream.of(4.2, 2.5, 3.1, 1.9);

//람다를 이용
Stream<Integer> stream = Stream.iterate(2, n -> n + 2); // 2, 4, 6, 8, 10, ...

//파일 -> 스트림
String<String> stream = Files.lines(Path path);

//빈 스트림
Stream<Object> stream = Stream.empty();

/**
기본형 스트림: 기본형 스트림은 연산 메서드를 제공한다. sum, average등
*/
//범주 스트림
IntStream stream1 = IntStream.range(1, 4); //1 2 3

//특정 타입 난수
IntStream stream = new Random().ints(4); //stream size 4
~~~

> ### 기본형 스트림의 존재이유
>
> 
>
> **스트림 API 는 데이터가 객체라는 것을 기본 전제로 설계되어있다.** 
>
> **기본형 데이터인 Int, long, double 등의 값을 처리하게 되면**  기술적으로는 문제가 없으나 <u>이 데이터는 객체가 아니기 때문에 Stream 내부적으로 오토박싱과 언박싱이 빈번하게 발생한다.</u>
>
> **이는 처리 시간의 급격한 증가를 가져온다.** 
>
> <u>따라서</u> 스트림 API 에서는 기본형으로 많이 사용하는 Int, long, double 을 위해 <u>별도의 인터페이스를 제공한다.</u> 
>
> -  **DoubleStream** 
> -  **IntStream** 
> -  **LongStream**



### 스트림 변환

![img](https://blog.kakaocdn.net/dn/KrKSH/btrvhNqj11R/w2QdnX4wGlqkk48SIEBR8k/img.png)



### 배열을 컬랙션으로 변환

> 스트림으로 처리하기
>
> 반대는 굳이 할필요없음 list.toString 으로 return 주기



+ int[] 를 List<Integer> 로 변환 

~~~java
int[] arr = {93, 30, 55};
List<Integer> list = Arrays.stream(arr).boxed().collect(Collectors.toList());
~~~

+ int[] 를 Integer[]로 변환

~~~java
Integer[] it = Arrays.stream(arr).boxed().toArray(Integer::new);
~~~

+ <u>Arrays.asList 안쓰는 이유</u>
  + Arrays에서 제공하는 고정된 ArrayList를 반환함(컬랙션 ArrayList가 아님)
  + add,pop등 컬랙션 크기 변경이 불가능(에러발생시킴)
  + int[]를 Integer[]로 컨버팅해야 List<Integer>로 반환가능







