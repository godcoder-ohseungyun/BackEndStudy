# 라우팅 프로토콜 : OSPF

---

링크상태라우팅 알고리즘에 대해서 이전에 학습했었다. 

> 모든 라우터가 가중치 데이터를 공유하며 다익스트라 알고리즘을 이용해 최단거리를 찾아내는것



이를 기반으로 동작하는 프로토콜이 OSPF이다.



### OSPF프로토콜(Open Shortest Path First) 동작 원리

각 라우터는 링크의 상태에 변화가 있는 경우에만 변화의 내용을 모든 라
우터에게 플러딩(flooding)함으로서 갱신된 **상태 정보를 모든 라우터와 동**
**시에 공유**

각 라우터는 글로벌 네트워크 상태 정보에 **다익스트라 알고리즘**(Dijkstra 
Algorithm)을 실행하여 모든 라우터에 대한 최소 비용 경로 계산

**최소 비용 경로 계산 결과에 따라 "라우팅 테이블 갱신"**



### RIP프로토콜에 비해 OSPF프로토콜은 장점을 많이 가지고있다.

1. RIP에 비해 **적은 량의 라우팅 트래픽**을 유발
2. RIP 보다 라우팅 정보 관련 갱신 회수 가 줄어들어 빈번한 처리 지연 발생으로 인한 **라우터의 성능 저하 방지**
3. 플러딩 방식의 갱신 정보 전송으로 인해 **갱신 정보 전파 속도가 빠름**
4. 링크 특징(예, 전송속도)에 따라 링크비용을 다르게 설정하는 것을 허용

> RIP는 모두 비용을 1로 설정했어야했음
>
> OSPF를 사용하면 링크 비용(가중치)를 링크의 특징에 따라 다르게 부여할수있음



각 라우터들이 상태정보 데이터를 공유해서 사용한다면 이웃 라우터는 어떻게 찾을까?



### 헬로패킷

직접 연결된 네트워크의 라우터들간에 교환하며 이웃관계를 설정한다.

DR 라우터가 존재하는 경우 DR 라우터와만 이웃 관계 설정

> **DR(Designated Router) :**네트워크에 연결된 다수의 라우터의 대표 라우터



### 문제점

AS의 규모가 거대해기면 유지해야하는 상태정보가 증가해 성능 저하로 이어진다.

이를 해결하기위해 전체 규모를 영역(Area)별로 분할해 운영한다.

각 영역은 독립적으로 OSPF 라우팅을 수행한다.
