##  3과목

---

### 데이터 베이스 설계

+ 요구조건 분석 - 개념적 설계 - 논리적 설계 - 물리적 설계

> **개념적 설계:** 개념스키마 및 트랜잭션 모델링 + <u>ER다이어그램</u>
>
> **논리적 설계(실제 설계 단계):** 스키마 설계 및 정제, 논리 구조 데이터로 모델화 + <u>릴레이션</u> + <u>정규화</u>
>
> **물리적 설계:** 저장 장치 관련 설계 + <u>레코드</u>



### 데이터 베이스 스키마

+ 스키마란 데이터베이스의 구조와 제약조건에 관해 전반적인 명세를 기술한 것

**개념 스키마:** 데이터 종류 , 관계 , 보안 , 무결성 등 정의

**내부 스키마:** 개념 스키마를 물리적 저장장치에 구현하는 방법 정의 

**외부 스키마:** 사용자나 응용 프로그래머가 개인의 입장에서 필요한 데이터베이스의 논리적 구조를 정의





### 릴레이션

+ 데이터를 표 형태로 나타낸것
+ 튜플간 순서가 없다.

속성 = **차수가** 몇개냐?

튜플 = **카니널리티가** 몇개냐?

**도메인** = 속성이 가질수있는 **원자값들의 집합** (ex. 성별의 도메인은 '남' , '여' )

![img](https://blog.kakaocdn.net/dn/cnyRwv/btrat3F8ZDv/oVT7OTGl1SFeBaFp73wqrk/img.png)



### 슈퍼키 , 후보키

슈퍼키를 제외한 나머지 키들은 **유일성 최소성** 을 만족한다

> 슈퍼키만 최소성 만족못함

| 키의 종류                  | 설명                                                         |
| -------------------------- | ------------------------------------------------------------ |
| 후보키 (Candidate Key)     | 튜플들을 식별할 수 있는 속성들입니다. 기본키로 사용 가능한 후보들이 됩니다.  (유일성과 최소성을 모두 만족합니다.) |
| 기본키 (Primary Key)       | 후보키 중에서 특별히 선정된 키이고, NULL 값이나 중복값은 가질 수 없습니다. ex. 학번, 주민번호   (유일성과 최소성을 모두 만족합니다.) |
| 대체키 (Alternate Key)     | 후보키가 둘 이상일 때 기본키를 제외한 나머지를 의미합니다. (기본키가 없을 때 그 자리를 대신해 줄 수 있으므로 대체키입니다.) |
| **슈퍼키** **(Super Key)** | 릴레이션 내에 있는 속성들의 집합으로 구성되는 키입니다. ex. 이름 + 주소 의 조합으로 키를 만들 수도 있는데, 그러면 슈퍼키가 됩니다. <u>(**유일성은 만족하지만 최소성은 만족하지 못합니다.)**</u> |
| 외래키 (Foreign Key)       | **다른 릴레이션의 기본키**를 참조하는 속성들입니다. 예를 들어 <학생> 릴레이션에 기본키가 주민번호이고, <수강> 릴레이션의 기본키는 학번 이라면, <학생> 릴레이션에 있는 학번은 남의 기본키, 나의 외래키가 됩니다. (유일성과 최소성을 모두 만족합니다.) |





### 병행제어

트랜잭션이 실행될때 데이터베이스의 일관성을 파괴하지 않도록 트랜책션을 제어하는것

> **병행제어 기법:** **<u>로킹</u>**, 타임스템프

***로킹**

트랜잭션이 실행되는동안 데이터를 잠궈서 다른 트랜잭션이 접근하지 못하게 하는것

로킹이 커지면 나머지가 작아짐

로킹이 작아지면 나머지가 커짐



### 정규화

비정규 릴레이션
↓ **도**메인이 원자값 = 값 여러개인거 분해
1NF
↓ **부**분적 함수 종속 제거
2NF
↓ **이**행적 함수 종속 제거
3NF
↓ **결**정자이면서 후보키가 아닌 것 제거
BCNF
↓ **다**치 종속 제거
4NF
↓ **조**인 종속성 이용
5NF



### 트랜잭션 특징

+ 다 외우기

![img](https://blog.kakaocdn.net/dn/lyVnS/btranX1LOOd/1m10jAE7kSXsXr72ZGSkrK/img.png)





### 무결성

**개체 무결성**은 **기본키는 NULL이나 중복값을 가질 수 없다**는 것입니다. 개체 (Entity) 는 데이터베이스에서 표현하려는 현실세계의 대상입니다. 

 

**도메인 무결성**은 주어진 속성값이 도메인에 속한 값이어야한다는 것입니다. 

> 예를 들어 혈액형이라는 속성에 A, B, O, AB 형이 있는데 갑자기 C형이 나온다면 도메인에 속한 값이 아닌 것이겠죠.

 

**참조 무결성**은 외래키 값은 NULL 로 들어오거나 참조로 사용하는 다른 릴레이션의 기본키 값을 그대로 가져와야합니다.

~~~
기타 무결성
- 사용자 정의 무결성: 속성 값들이 사용자가 정의한 제약조건에 만족해야한다.

- NULL 무결성: 릴레이션의 특정 속성 값이 NULL 이 될 수 없도록 한다.

- 고유 (Unique) 무결성: 릴레이션의 특정 속성에 대해 각 튜플이 갖는 속성값들이 서로 달라야한다.

- 키 (Key) 무결성: 하나의 릴레이션에는 적어도 하나의 키가 존재해야한다.

- 관계 (Relationship) 무결성: 릴레이션에 어느 한 튜플의 삽입 가능 여부 또는 한 릴레이션과 다른 릴레이션의 튜플들 사이의 관계에 대한 적절성 여부를 지정한 규정이다.
~~~



### 관계 대수

(1) 순수 관계 연산자
 \- SELECT: σ 튜플 구하기
 \- PROJECT: π 속성 구하기
 **\- JOIN:** ▷◁ 합치기
 **\- DIVISION:** ÷ 해당하는 튜플의 검색 대상 속성은 제거하고 보여주기

(2) 일반 집합 연산자
 \- UNION: ∪ 합집합
 \- INTERSECTION: ∩ 교집합
 \- DIFFERENCE: - 차집합
 \- CARTESIAN PRODUCT: × 교차곱



### 뷰

+ 사용자가 편하게 볼 수 있도록 만들어진 **가상 테이블**
+ 기본 테이블이 삭제되면 뷰도 자동으로 **같이 삭제**
+ **변경 갱신이 불가**능하다



### E-R 다이어그램

![img](https://blog.kakaocdn.net/dn/KwaB9/btraqRl0OuT/P7smIdJHbeQJqd1D1kEeo0/img.png)



### 투명성

한번씩 읽기

![img](https://blog.kakaocdn.net/dn/besTjP/btranWBQ6X3/KLoxkVXfrTqxfWHGj9zxJ0/img.png)

