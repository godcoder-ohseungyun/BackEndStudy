

# HTTP: 웹의 통신 프로토콜

---





## 웹에서 ''**웹 브라우저(클라이언트) 와 웹 서버 간의 통신 프로토콜''**을  ''**HTTP''**   라고한다.





## HTTP 개요

> + #### **요청과 응답 구조**로 이루어져 있다.
>
> > **HTTP Request:**  클라이언트
> >
> > > 웹 사용자의 요청(**URL 입력 또는 하이퍼링크 클릭**)으로 웹 브라우저에 의 해 생성되는 메시지
> > >
> > > 웹 서버의 웹 객체 URL과 해당 웹 객체 처리 방식 정보 제공
> > >
> > > 하위 계층의 TCP 연결을 통해 웹 서버에게 전송
> >
> > **HTTP response:**  서버
> >
> > > 웹 브라우저의 요청으로 웹 **서버에 의해 생성**되는 메시지
> > >
> > > **수신한 URL**에 해당되는 웹 객체와 웹 객체 속성 **정보 제공**
> > >
> > > 하위 계층의 TCP 연결을 통해 웹 브라우저에게 전송
>
> + #### **비상태형(stateless protocol) 프로토콜**이다.
>
> > 어디서 요청 되었는지, 어디로 응답하는지 같은 **요청 응답의 관계 정보를 기억하지 않는다.**
> >
> > **통신 오류에 동적 대응 가능**
> >
> > >  서버가 터진경우 다른 서버가 그 위치를 대신할수있다.
>
> + ### **3-way-handshaking**을 한다.
>
> > + **HTTP  통신을 위해 TCP 연결을 하는 과정**
> >
> > <img src="https://user-images.githubusercontent.com/68331041/133071604-f1fb0065-670b-44ed-a1cc-478d099da495.png" alt="image" style="zoom:50%;" />
> >
> > 1. SYN 요청:TCP Connection 요청
> >
> > 2. SYN 응답: 허락하면 연결완료
> >
> > 3. 이제 ACK 요청을통해 HTTP request 보내고 응답받을수있다.
> >
> > 
> >
> > + **왕복지연시간(RTT):**  요청후 응답이 되돌아오는데까지 걸리는 시간
>
> + #### TCP연결은 **지속 & 비지속** 2가지 이다.
>
> > **지속연결 HTTP**
> >
> > > TCP연결후 일정 조건동안 연결을 유지한다.
> > >
> > > TCP연결 지연시간을 아낄수있지만 사용하지 않을때도
> > >
> > > 연결이 유지되어있어 소켓 낭비가 발생한다. 
> > >
> > > 한번의 연결로 여러번 통신을 할수있다는 장점
> > >
> > > **파이프 라이닝 지원가능**
> > >
> > > > **파이프라이닝:** 여러개의 통신을 한번에 주고받게 하는 것
> >
> > **비지속연결 HTTP**
> >
> > > TCP연결후 한쌍의 요청 응답후에 TCP연결을 해제한다.
> > >
> > > 병렬로 여러 통신을 동시에 할수있다.
> > >
> > > TCP연결에 지연되는 시간이 항상 발생한다.
> >
> > **하이브리드 연결 HTTP도 가능**



## HTTP

> + #### **요청 HTTP구조 & 응답 HTTP 구조**
>
> > **1. 요청 HTTP 구조**
> >
> > > ![image](https://user-images.githubusercontent.com/68331041/133356394-e78b7b49-9618-4f7f-a370-754d99873c76.png)
> > >
> > > + cr,sp 등 **ASCII 제어문자를 포함**하고있다 **&**  **데이터는** 유니코드 등 **다양한 코드로 표현**
> > >
> > > > **ASCII:**  **제어문자**와 **그래픽문자(숫자,문자 등)로 구성**
> > >
> > > + **요청라인**(request line) + **헤더라인**(header line) + **공백**(empty) + **바디**(body)
> > >
> > > > ***요청라인**
> > > >
> > > > > 1. **HTTP method 정보**
> > > > >
> > > > > > GET : **body 정보 없이** 객체 요청(url로 파라미터 전송)
> > > > > >
> > > > > > POST : **body 입력 정보와 함께** 객체 요청
> > > > > >
> > > > > > HEAD : 헤더 정보만 요청
> > > > > >
> > > > > > 등등
> > > > >
> > > > > 2. **URL 정보**
> > > > >
> > > > > 3. **VERSION 정보**
> > > >
> > > > **헤더라인** 
> > > >
> > > > > **서비스를 어떻게 처리**해야하는지 명시
> > > >
> > > > **공백** 
> > > >
> > > > > 공백필요
> > > >
> > > > **바디**
> > > >
> > > > > **전송할 실제 데이터**
> >
> > #### **2. 응답 HTTP 구조**
> >
> > ![image-20210915105342918](C:\Users\afrad\AppData\Roaming\Typora\typora-user-images\image-20210915105342918.png)
> >
> > + **요청라인이 없고** 응답의 정보를 담아내는 **Status line**이 존재한다,
> >
> > > **Status line:** 200,300,400,500 상태코드 정보를 가지고있다.
> >
> > + **상태라인**(Status line) + **해더라인** + **공백** + **바디**
> >
> > > ***상태라인**(Status line)
> > >
> > > > 응답의 상태를 나타냄 ex) 200 상태코드 등등
> > >
> > > ***헤더라인** 
> > >
> > > > 서비스를 어떻게 처리해야하는지 명시 **+ 어떻게 처리했는지** ex)갱신시간 등
> > >
> > > **공백** 
> > >
> > > > 공백필요
> > >
> > > **바디**
> > >
> > > > 전송할 실제 데이터







