# 트랜스포트 계층(Transport Layer) 서비스

---

**[응용프로세스간 통신]**

Network -> transport -> application 



## 네트워크 계층 서비스(대표 프로토콜: IP )

**호스트(Host)간의 통신을 의미한다.**

> 인터넷 호스트간에 패킷(데이터그램) 전달
>
> 호스트의 인터넷 통신 장치 : NIC(Network 
> Interface Card)

**최선형(Best-effort) 서비스**

> 자원이 허락하는 범위내에서 최적의 통신 서비
> 스 제공
> 자원이 부족한 경우 지연시간 발생, 패킷 훼손/
> 손실 발생 가능: 비신뢰 서비스(unreliable service)

**비연결형(Connectionless) 서비스**

> 패킷 전달 경로가 다를 수 있음
> 패킷 도착 순서가 바뀔 수 있음

IP(**Internet Protocol**)

> IP 주소 기반의 패킷(데이터그램) 전달
> IP 주소 : 인터넷에 연결된 NIC(호스트) 구분



## 트랜스포트 계층 서비스(대표 프로토콜: TCP,UDP)

![image](https://user-images.githubusercontent.com/68331041/134859894-8df2f19b-7b43-4990-ba8f-89d8cabec86e.png)

+ IP영역 즉, **네트워크 계층 서비스를 포괄**하여 **NIC**(HOST장치)내 **Application**들과 데이터를 주고받는 것

**[기능]**

> ### **다중화**
>
> > **데이터를 패킷으로 나누어 네트워크 계층에게 전달**, 네트워크 계층은 패킷을 전송
> >
> > > **포트번호** 같은 **필요 정보를 포함**하여 **패키징**한다.\
>
> ### **역다중화**
>
> > **패킷**들을 **데이터로 재 조립**하여 **어플리케이션들에게 전달**
>
> **무결성(Integrity) 확인**
>
> > 손상 여부 확인
>
> **신뢰 전송(Reliable Transfer)**
>
> > **오류 복구**(Error Recovery) : 손상 또는 손실 세그먼트 복구
> > **흐름 제어**(Flow Control) : 수신 버퍼 오버플로어(overflow) 방지
>
> **혼잡 제어(Congestion Control)**
>
> > 전송량 조절을 통해 네트워크 혼잡 상황 회피 및 해소



**트랜스포트 계층 대표 프로토콜 TCP vs UDP**

![image](https://user-images.githubusercontent.com/68331041/134861168-f1f93f78-1753-4bdb-be48-bbcf8b9fdf33.png)

+ 대신 **UDP는 간결함으로 고속 통신**이 **가능**하다. 



### 정리

![image](https://user-images.githubusercontent.com/68331041/134861599-6aacd533-f586-4feb-9214-7003ecde031e.png)

IP(인터넷 프로토콜)을 가지고 인터넷 상에서 HOST(NIC)간에 통신을 **네트워크 계층 서비스**라고 하고 이를 **포괄**하여 HOST의 APPLICATION들과 통신하는것을 **트랜스포트 계층 서비스**라고한다.

이때 같은 프랜스포트 계층을 타고 넘어온 데이터를 **여러 APPLICATION**들이 사용해야한다면 다중화했던 **PORT**정보를 가지고 올바른 PORT에 수신한다.

![image](https://user-images.githubusercontent.com/68331041/134862289-297efeb3-2dcb-4153-92dd-a017e725763d.png)

APPLICATION에서 데이터를 전송할시 **트랜스포트 계층(TCP,UDP)에서 PORT정보와 데이터를 가공**하여 IP 즉, **네트워크 계층(IP)에 넘겨**주면 네트워크 계층이 송수신을 위한 가공을 하여 데이터를 **통신**한다.

가공과정을 **다중화** 가공된 데이터를 본연의 데이터로 분해하는것을 **역다중화** 라고 한다.

> ### 다중화 유형
>
> **연결형**(connection-oriented) : 통신 소켓간에 **1:1** 논리적 연결 설정
>
> > 프로토콜: TCP
> >
> > 연결된 소켓끼리만 통신가능
>
> **비연결형**(connectionless) : 통신 소켓간에 **1:N** 논리적 연결 설정
>
> > 프로토콜: UDP
> >
> > 연결되지 않아도 구분키를 통해 자유롭게 통신가능



+ **소켓**: 트랜스포트 계층이 제공하는 응용 프로세스 통신 통로 자료구조
+ **응용 프로세스 주소** : 소켓 주소(IP 주소 + 포트번호)

