# 프로토콜 계층구조

---

**통신 프로토콜 정의**

> 통신 서비스를 제공하기 위해 정의하는 규약

통신 장치들간에 교환될 메시지의 형식 정의(Syntax)

메시지 교환 순서 정의(Timing)

메시지를 교환할 때 수행해야할 행위를 정의(Semantics)

**다양한  계층 마다 다양한 프로토콜이 존재(http,tcp)하며 서로 상호 정의되어 통신을 원활하게 한다. 한 계층에 다수의 프로토콜이 존재 할수도있다.** 

> http: 웹 페이지 전송절차 정의
>
> tcp: 신뢰 전송 절차 정의
>
> 각 계층의 프로토콜을 응용하여 새로운 프로토콜을 만들기 용의하다.



## **TCP/IP** **계층 구조**

인터넷의 프로토콜 구조

5 계층 구조

**application(최상위 사용자)**

> 인터넷 최종 사용자 서비스를 위한 정보(메시지) 교환 규칙 정의
>
> 사용자 서비스 종류에 따라 서로 다른 응용 프로토콜 정의
>
> 웹 서비스 : **HTTP**(Hyper Text Transfer Protocol)
>
> 이메일 서비스 : **SMTP**(Simple Mail Transfer Protocol)
>
> 파일 전송 서비스 : **FTP**(File Transfer Protocol)
>
> 도메인 네임 서비스 : **DNS**(Domain Name System)

**transport**

> 응용 계층 프로토콜 간에 메시지를 작은 전송단위(**Segment**)로 나누고 전송하는 규칙 정의
>
> 응용 프로토콜 지정(End-point, Port 번호), 오류 제어(Error control), 흐름 제어(Flow control), 혼잡 제어(Congestion control)
>
> **TCP**(Transmission Control Protocol), **UDP**(User Datagram Protocol)
>
> ![image](https://user-images.githubusercontent.com/68331041/132158976-6c8b03a7-8568-4427-a1eb-aa4e3ab24cdf.png)
>
> 전송오류방지

**network**

>  네트워크 상에서 최적 경로를 찾고,
>
> 출발지 트랜스포트 프로토콜의 전송단위(**Segment**)를 네트워크 전달단위인 데이터그램(**Datagram**: 주소,목적지 등 정보 추가)으로 변환하고,
>
> 목적지 트랜스포트 프로토콜까지 데이터그램을 교환하고 전달
>
> 데이터그램 전달 프로토콜 : IP
>
> 최적 경로 찾기 프로토콜 : **Routing Protocol**
>
> <img src="https://user-images.githubusercontent.com/68331041/132159135-eed93be8-45ab-48ac-b550-6b693e45e34a.png" alt="image" style="zoom:33%;" />
>
> 

**link**

> 네트워크 경로를 구성하는 각 링크 상에서,
>
> 네트워크 전송단위(**데이터그램**)을 프레임(**Frame**)으로 변환하고,
>
> 링크의 끝까지 전송하는 규칙 정의
>
> **링크의 유형에 따라 다양한 링크 프로토콜 정의**
>
> **유선 LAN : Ethernet, 무선 LAN : WiFi, 전용회선 : PPP** 
>
> <img src="https://user-images.githubusercontent.com/68331041/132159421-0b8cbaf5-3340-4be8-ba03-142c5be8f684.png" alt="image" style="zoom:33%;" />
>
> 물리매체간에 패킷전송절차 정의
>
> physical계층 물리매체 종류에 따라 다양한 프로토콜 존재

**physical**

> 정보전달 물리매체 통신 장치 정의
>
> 매체에 따라 다양한 프로토콜 존재
>
> Ethernet 링크를 위해 UTP, 광케이블 물리 프로토콜 정의
>
> WiFi 채널의 디지털 비트와 물리 신호의 변환 방법에 따라 다양한 물리 프로토콜 정의



**정리**

> **브라우저(HOST) - TCP/IP계층구조 - Network - TCP/IP계층구조 - 서버 혹은 타 브라우저(HOST)**
>
> ![image](https://user-images.githubusercontent.com/68331041/132160070-32edbd3b-083d-4c0b-84e3-e22babf91a3b.png)
>
> HOST에서 TCP/IP계층을 하나씩 지나며 전달할 message에
>
> 각 계층 프로토콜 정보를 씌워 캡슐링한다. 올바른 데이터 전송을 위해 
>
> >  message -> segment -> datagram -> frame 
>
> 이후 이 캡슐화된 message는 link,physical 계층의 정보를 보고 Switch 즉 로컬 주소에서 데이터 전송이 일어나며 글로벌 차원인 Router에서는 network,link,physical 계층의 정보로 데이터 전송이 일어난다.  
>
> 목적지 Host도 마찮가지로 같은 단계를 거쳐 데이터를 송수신한다.



# 네트워크 사이버 공격

---



**악성소프트웨어 공격****(Malware Attack)**

> 바이러스 
>
> 웜 
>
> 트로이목마

**서비스 거부 공격****(Denial of service Attack)**

> dos
>
> ddos 다수의 좀비컴퓨터를 활용 엄청난 요청을 보내 목표 컴퓨터 마비

**스니핑** **공격****(Sniffing Attack)**

> 통신 중간에 주요정보 가로챔

**가장 공격****(Masquerading Attack)**

> 신뢰할 수 있는 통신 주체로 위장하여 상대방과 통신하며 민감한 정보를 탈취하는 공격
>
> **IP Spoofing 공격**: 자신의 ip가 아닌 조작된 ip를 사용하여 공격
>
> **중간자 공격(Man-In-The-Middle Attack)** : 대상자가 목적지와 통신하는 데이터를 중간에 가로챈다.
>
> 자신의ip로 도착하게 한후, 조작하여 원래 목적지엔 위조 메세지를 전달한다.